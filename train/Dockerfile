# Dockerfile2313

FROM pytorch/pytorch:2.1.0-cuda12.1-cudnn8-runtime

# ìž‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
WORKDIR /app

# ì½”ë“œ ë³µì‚¬
COPY . .

# ðŸ”¥ NumPy ë²„ì „ í˜¸í™˜ì„± í•´ê²° + ì‹œìŠ¤í…œ ë¼ì´ë¸ŒëŸ¬ë¦¬
RUN apt-get update && apt-get install -y \
    git \
    libgl1-mesa-glx \
    libglib2.0-0 \
    && rm -rf /var/lib/apt/lists/* \
    && pip install --upgrade pip \
    && pip install "numpy>=1.21.0,<2.0.0" --force-reinstall \
    && pip install matplotlib mlflow boto3 python-dotenv opencv-python-headless psutil

# í•™ìŠµ ì‹¤í–‰
CMD ["python", "train_unet_with_mlflow.py"]
